if exists(select 1 from master.dbo.sysdatabases where name = 'test_zespoly') drop database test_zespoly
go
create database test_zespoly
go
use test_zespoly
CREATE TABLE ZESPOLY
	(ID_ZESP int CONSTRAINT PK_ZESP PRIMARY KEY,
	NAZWA VARCHAR(20),
	ADRES VARCHAR(20) );

CREATE TABLE ETATY
      ( NAZWA VARCHAR(15) CONSTRAINT PK_ETAT PRIMARY KEY,
	PLACA_MIN money,
	PLACA_MAX money);

CREATE TABLE PRACOWNICY
    (ID_PRAC int CONSTRAINT PK_PRAC PRIMARY KEY,
        IMIE VARCHAR(10),
	NAZWISKO VARCHAR(15),

	ETAT VARCHAR(15) CONSTRAINT FK_ETAT REFERENCES ETATY(NAZWA),
	ID_SZEFA int CONSTRAINT FK_ID_SZEFA REFERENCES PRACOWNICY(ID_PRAC),
	ZATRUDNIONY DATE,
	PLACA_POD money CONSTRAINT MIN_PLACA_POD CHECK(PLACA_POD>100),
	PLACA_DOD money,
	ID_ZESP int CONSTRAINT FK_ID_ZESP REFERENCES ZESPOLY(ID_ZESP));

INSERT INTO ZESPOLY VALUES (10,'ADMINISTRACJA',      'PIOTRKOWSKA 3');
INSERT INTO ZESPOLY VALUES (20,'BAZY DANYCH','PIOTRKOWSKA 3');
INSERT INTO ZESPOLY VALUES (30,'SYSTEMY MOBILNE', 'FABRYCZNA 14');
INSERT INTO ZESPOLY VALUES (40,'SYSTEMY ROZPROSZONE', 'FABRYCZNA 14');
INSERT INTO ZESPOLY VALUES (50,'EKSPLORACJA DANYCH', 'FABRYCZNA 14');

INSERT INTO ETATY VALUES ('KIEROWNIK'  ,2800.00,3500.00);
INSERT INTO ETATY VALUES ('LOGISTYK'  ,2400.00,3400.00);
INSERT INTO ETATY VALUES ('ELEKTRYK'  ,1800.00,2300.00);
INSERT INTO ETATY VALUES ('ANALITYK'   ,2500.00, 3750.00);
INSERT INTO ETATY VALUES ('PROGRAMISTA'  ,2300.00, 3500.00);
INSERT INTO ETATY VALUES ('STAZYSTA'  ,1150.00, 1250.00);
INSERT INTO ETATY VALUES ('SEKRETARKA',1270.00, 1450.00);
INSERT INTO ETATY VALUES ('DYREKTOR' , 4200.00, 5100.00);
 
INSERT INTO PRACOWNICY VALUES (100,'ADAM','ZIELARZ'    ,'DYREKTOR'  ,NULL,'1996/01/01',4730.00,420.50,10);
INSERT INTO PRACOWNICY VALUES (110,'ZENON', 'BILEWICZ'  ,'KIEROWNIK'  ,100 ,'2003/05/01',3350.00,210.00,40);
INSERT INTO PRACOWNICY VALUES (120,'IGNACY','SLONIMSKI'  ,'KIEROWNIK'  ,100 ,'2007/09/01',3070.00,  NULL,30);
INSERT INTO PRACOWNICY VALUES (130,'ANNA', 'GRZESINSKA' ,'KIEROWNIK'  ,100 ,'1996/07/01', 2960.00,  NULL,20);
INSERT INTO PRACOWNICY VALUES (140,'LUCJAN', 'CHUDY'      ,'ANALITYK'  ,110 ,'2005/09/15', 2830.00,105.00,40);
INSERT INTO PRACOWNICY VALUES (150,'KRYSTIAN', 'ZAJ¥CZEK','ANALITYK'   ,130 ,'2007/09/01', 2645.50,  NULL,20);
INSERT INTO PRACOWNICY VALUES (160,'ANDRZEJ', 'KOSZELNY'  ,'ANALITYK'   ,130 ,'2001/03/01', 2590.00,  NULL,20);
INSERT INTO PRACOWNICY VALUES (170,'DAMIAN', 'STAWOWY'  ,'PROGRAMISTA'  ,130 ,'2002/10/01', 2300.00, 80.50,20);
INSERT INTO PRACOWNICY VALUES (190,'ROBERT', 'SO£TYSIAK'   ,'PROGRAMISTA'  ,130 ,'2003/09/01', 2371.00,  NULL,20);
INSERT INTO PRACOWNICY VALUES (180,'ZOFIA', 'KOBUCKA'      ,'SEKRETARKA',100 ,'1998/02/20', 1410.20,  NULL,10);
INSERT INTO PRACOWNICY VALUES (200,'JAN', 'SARZEWICZ' ,'STAZYSTA'  ,120 ,'2013/07/15', 1208.00,  NULL,30);
INSERT INTO PRACOWNICY VALUES (210,'JERZY', 'KOLOREK'      ,'STAZYSTA'  ,120 ,'2013/10/15', 1150.00,170.60,30);
INSERT INTO PRACOWNICY VALUES (220,'EWA', 'SNOPEK'    ,'PROGRAMISTA'  ,130 ,'2013/10/01', 2480.00,  NULL,20);
INSERT INTO PRACOWNICY VALUES (230,'JULIAN', 'LEBOMIRSKI' ,'PROGRAMISTA'  ,120 ,'2012/09/01', 2480.00, 90.00,30);
INSERT INTO PRACOWNICY VALUES (240,'JANINA', 'KOCH' ,'LOGISTYK'  ,100,'2014/09/01', 2400.00, NULL,NULL);